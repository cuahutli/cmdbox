{% extends 'base.html' %}

{% load filewalker i18n static %}

{% block stylesheet %}
  <link rel="stylesheet" href="{% static 'scaffold_templates/css/details.css' %}">
{% endblock %}

{% block javascript %}
  <script src="{% static 'scaffold_templates/js/details.js' %}"></script>
{% endblock %}

{% block breadcrumb %}
  <li><a href="{% url 'profile' scaffold_template.user.username %}">{{ scaffold_template.user.profile.get_display_name }}</a></li>
  <li><a href="{% url 'scaffold_templates:list' scaffold_template.user.username %}">{% trans 'Scaffold Templates' %}</a></li>
  <li class="active">{{ scaffold_template.slug }}</li>
{% endblock %}

{% block messages %}
  {{ block.super }}
  <div class="messages alert alert-warning"
       role="alert">
    <div class="container">
      <span class="glyphicon glyphicon-erase"></span>
      This scaffold template is still a working draft.
    </div>
  </div>
{% endblock %}

{% block content_header %}
  {% include 'scaffold_templates/includes/header.html' with active='files' %}
{% endblock %}

{% block content %}
  <div class="btn-group btn-group-justified" role="group" aria-label="..." style="margin-bottom: 20px">
    <div class="btn-group" role="group">
      <button type="button" class="btn btn-sm btn-primary">
        <span class="glyphicon glyphicon-unchecked"></span> {% trans '1. File Structure' %}
      </button>
    </div>
    <div class="btn-group" role="group">
      <button type="button" class="btn btn-sm btn-default">
        <span class="glyphicon glyphicon-unchecked"></span> {% trans '2. File Contents' %}
      </button>
    </div>
    <div class="btn-group" role="group">
      <button type="button" class="btn btn-sm btn-default">
        <span class="glyphicon glyphicon-unchecked"></span> {% trans '3. Default Values' %}
      </button>
    </div>
    <div class="btn-group" role="group">
      <button type="button" class="btn btn-sm btn-default">
        <span class="glyphicon glyphicon-unchecked"></span> {% trans '4. Review & Release' %}
      </button>
    </div>
  </div>

  <div class="btn-group" data-toggle="buttons" style="margin-bottom: 20px">
    <label class="btn btn-default active">
      <input type="radio" name="options" id="option1" autocomplete="off" checked>
      <span class="glyphicon glyphicon-th-large"></span>
    </label>
    <label class="btn btn-default">
      <input type="radio" name="options" id="option2" autocomplete="off">
      <span class="glyphicon glyphicon-menu-hamburger"></span>
    </label>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">
        <div class="pull-right" style="margin-top: -5px">
          <button type="button"
                  class="btn btn-primary btn-sm js-add-file"
                  data-url="{% url 'scaffold_templates:add_folder' scaffold_template.user.username scaffold_template.slug %}">
            <span class="glyphicon glyphicon-folder-close"></span>
            {% trans 'Add folder' %}
          </button>
          <button type="button"
                  class="btn btn-primary btn-sm js-add-file"
                  data-url="{% url 'scaffold_templates:add_file' scaffold_template.user.username scaffold_template.slug %}">
            <span class="glyphicon glyphicon-file"></span>
            {% trans 'Add file' %}
          </button>
        </div>
        <span class="glyphicon glyphicon-inbox"></span> {{ scaffold_template.slug }}
      </h3>
    </div>
    <table id="table-files" class="table table-hover">
      <thead>
        <tr>
          <th style="width: 50%">{% trans 'Name' %}</th>
          <th>{% trans 'Size' %}</th>
          <th>{% trans 'Date Modified' %}</th>
          <th>{% trans 'Date Added' %}</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% walk scaffold_template.files.all %}
      </tbody>
    </table>
    <div class="panel-footer">
      <span class="items-count">{{ scaffold_template.files.count }}</span> {% trans 'items' %}
    </div>
  </div>

  <div class="modal fade" id="modal-delete-file"></div>
{% endblock %}
