{% load i18n static %}

<header>
  <nav class="navbar navbar-default">
    <div class="container">
      <div class="navbar-header">
        <button type="button"
                class="navbar-toggle collapsed"
                data-toggle="collapse"
                data-target="#main-menu"
                aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="{% url 'home' %}">
          <img src="{% static 'img/logo.png' %}" alt="CmdBox">
        </a>
        <a class="navbar-brand" href="{% url 'home' %}">
          CmdBox
        </a>
      </div>
      <div class="collapse navbar-collapse" id="main-menu">
        <ul class="nav navbar-nav">
          <li>
            <a href="{% url 'snippets' %}">{% trans 'Snippets' %}</a>
          </li>
          <li>
            <a href="{% url 'scaffold_templates' %}">{% trans 'Scaffold Templates' %}</a>
          </li>
          <li>
            <a href="{% url 'help:index' %}">{% trans 'Help' %}</a>
          </li>
        </ul>
        {% if user.is_authenticated %}
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <div class="btn-group navbar-btn">
                <button type="button"
                        class="btn btn-primary dropdown-toggle"
                        data-toggle="dropdown"
                        aria-haspopup="true"
                        aria-expanded="false">
                  <span class="glyphicon glyphicon-plus"></span>
                  {% trans 'Add' %}
                  <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                  <li><a href="{% url 'add_snippet' %}">{% trans 'Snippet' %}</a></li>
                  <li><a href="{% url 'add_scaffold_template' %}">{% trans 'Scaffold template' %}</a></li>
                </ul>
              </div>
            </li>
            <li class="dropdown">
              <a href="#"
                 class="dropdown-toggle"
                 data-toggle="dropdown"
                 role="button"
                 aria-haspopup="true"
                 aria-expanded="false">
                <span class="glyphicon glyphicon-user"></span>
                {{ user.username }}
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a href="{% url 'profile' user.username %}">
                    {% trans 'My profile' %}
                  </a>
                </li>
                <li>
                  <a href="{% url 'settings:profile' %}">
                    {% trans 'Account settings' %}
                  </a>
                </li>
                <li role="separator" class="divider"></li>
                <li>
                  <a href="{% url 'logout' %}">{% trans 'Log out' %}</a>
                </li>
              </ul>
            </li>
          </ul>
        {% else %}
          <a href="{% url 'login' %}" class="btn btn-default navbar-btn navbar-right">
            {% trans 'Login' %}
          </a>
          <a href="{% url 'signup' %}" class="btn btn-primary navbar-btn navbar-right" style="margin-right: 10px">
            {% trans 'Sign up' %}
          </a>
        {% endif %}
      </div>
    </div>
  </nav>
</header>
